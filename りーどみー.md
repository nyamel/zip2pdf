# zip2pdf

zipから画像だけ抜き出してpdfに変換するやつ



## Description

- zipのファイルリストから画像らしき拡張子のものだけ抜き出してimg2pdfってライブラリを使ってpdfに変換してます。
  - さらっとioストリーム勉強したので余計な中間ファイルの生成ナシ！思ったよりはやい！
  - 拡張子のリストはソースコード参照。大文字のリストも自動生成してチェックしてます。足りないのあったら言ってください。
  - img2pdfの仕様で透過png 非対応です。読み込むたびにめちゃWARNINGされるのも仕様です。
- ~~現時点では変換元のzipの名前のディレクトリを作成して、image0.pdf, image1.pdf... とリネームして保存してます。~~ 元のファイル名.pdfになるように変更しました。
- 変換に失敗したファイル(img2pdfに弾かれたやつ)はFaildディレクトリに解凍されます。



## Usase

```bash
$ zip2pdf hoge.zip
```

以上。

`--log` か`-l` をつけると Export_log.txt が出力されます。 *追記　Winだと文字コードがらみでうまくいかない場合あり*

`--rename ディレクトリ名` (`-r` でも可) で出力先のディレクトリ名を変更できます。（デフォルトは元のzipの名前）


## Installation

python3 の実行環境ができてれば

```bash
$ pip install git+https://github.com/nyamel/zip2pdf
```

で依存ライブラリ含めてインストールされる（はず）。

環境によっては `pip3` かも。デフォルトのpythonが2系になってるとこっちぽい。

*追記　上のコマンドだと git 必須です。なかったらzipでダウンロードして`pip install zip2dfのフォルダパス` などで*


pip は python3.4以降だったら標準ライブラリに入ってるらしいけど、これまた環境によりけりなのでなかったら自力でいんすこしてください。

~~macで成功すればwinでもlinuxでもいける気がする（テストしてません）。~~ win対応済み。linuxは未確認。



## Bugs

- gifアニメを変換すると、2枚目以降に謎エフェクト（画質劣化？）がかかります。謎。



## Note

やり甲斐のあるネタをもらえて感謝です。

無駄にいろいろオプションとか凝りだす気がするのでご要望があったら遠慮なくどぞ。

まずは動いてくれることを願うのみ…

