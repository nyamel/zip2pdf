# zip2pdf

zipから画像だけ抜き出してpdfに変換するやつ



## Description

- zipのファイルリストから画像らしき拡張子のものだけ抜き出してimg2pdfってライブラリを使ってpdfに変換してます。
  - さらっとioストリーム勉強したので余計な中間ファイルの生成ナシ！思ったよりはやい！
  - 拡張子のリストはソースコード参照。大文字のリストも自動生成してチェックしてます。足りないのあったら言ってください。
  - img2pdfの仕様で透過png 非対応です。読み込むたびにめちゃWARNINGされるのも仕様です。
- ~~現時点では変換元のzipの名前のディレクトリを作成して、image0.pdf, image1.pdf... とリネームして保存してます。~~ 元のファイル名.pdfになるように変更しました。
- 変換に失敗したファイル(img2pdfに弾かれたやつ)はFaildディレクトリに解凍されます。



## Usase

```bash
$ zip2pdf hoge.zip
```

以上。

`--log` か`-l` をつけると Export_log.txt が出力されます。（抜け漏れチェック用。テスト不十分なので使用推奨。）



## Installation

python3 の実行環境ができてれば

```bash
$ pip install git+https://github.com/nyamel/zip2pdf
```

で依存ライブラリ含めてインストールされる（はず）。

環境によっては `pip3` かも。デフォルトのpythonが2系になってるとこっちぽい。



pip は python3.4以降だったら標準ライブラリに入ってるらしいけど、これまた環境によりけりなのでなかったら自力でいんすこしてください。

macで成功すればwinでもlinuxでもいける気がする（テストしてません）。



## Bugs

- gifアニメを変換すると、2枚目以降に謎エフェクト（画質劣化？）がかかります。謎。



##  Future

- ~~Faild 入りしたファイルは元のディレクトリ構造そのまま解凍されてしまうので後で修正。~~　修正済
- 出力先のディレクトリ名の指定オプションとか
- ~~pdfの名前、変換前の名前保持もできた方がよき？~~ 修正済



## Note

やり甲斐のあるネタをもらえて感謝です。

無駄にいろいろオプションとか凝りだす気がするのでご要望があったら遠慮なくどぞ。

まずは動いてくれることを願うのみ…

